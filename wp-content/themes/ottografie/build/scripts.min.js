function sCinegraph(){$(".s-cinegraph").each(function(){var i=$(this).find("video")[0];$(this).on("inview",function(e,n){n?i.play():(i.pause(),jsScrollerHeight=$(".js-scroller").outerHeight(),$("body").css("height",jsScrollerHeight))})})}
function sCursor(){var s=$(window).height(),o=$(window).width();tl.set($(".s-cursor"),{y:s/2-40,x:o/2-40}),$(document).on("mousemove",function(s){tl.set($(".s-cursor"),{force3D:!1,y:s.clientY-$(".s-cursor").height()/2,x:s.pageX-$(".s-cursor").width()/2})})}function sCursorReset(){$(".s-cursor").attr("class","s-cursor"),$(".s-cursor .c-label").text("")}function sCursorInterface(){$(".c-menu, .c-back, .s-nav a, .s-footer a").on("mouseenter",function(){tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.5,scaleY:.5})}),$(".c-menu, .c-back .s-nav a, .s-footer a").on("mouseleave",function(){$("body").hasClass("is-loading")||tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.1,scaleY:.1})})}function sCursorLoad(){$(".s-cursor").removeClass("is-scroll is-drag is-zoom is-play is-pause is-rotate"),tl.killTweensOf(".s-cursor .c-pointer"),$(".s-cursor").addClass("is-loader"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:1,scaleY:1});var s=0,o=setInterval(function(){s<101?($(".is-loader .c-label").text(s+"%"),s++):clearInterval(o)},10)}function sCursorLoadHide(){tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.1,scaleY:.1}),$(".s-cursor").removeClass("is-loader"),$(".s-cursor .c-label").text("")}var tl=TweenLite;sCursor(),sCursorInterface(),$(".c-menu, .c-logo, .c-button, .c-back, .s-nav a").on("click",function(){tl.set($(".s-cursor"),{opacity:0}),tl.set($(".s-cursor"),{delay:.1,opacity:1})});
function sDragger(){$(".s-dragger").each(function(){tl.set($(this).find("img"),{opacity:0,y:150});var e=$(this).find(".c-image:first"),a=$(this);$(e).one("inview",function(e,s){s&&tm.staggerTo($(a).find("img"),1,{opacity:1,y:0,ease:Power3.easeOut},.1)})}),Draggable.create(".s-dragger .c-dragger",{type:"x",cursor:"none",throwProps:!0,edgeResistance:.65,bounds:".s-dragger",onPress:function(){tl.to($(".s-dragger .c-image img"),.75,{scaleX:.95,scaleY:.95,ease:Power3.easeOut})},onRelease:function(){tl.to($(".s-dragger .c-image img"),.75,{scaleX:1,scaleY:1,ease:Power3.easeOut})}})}
function sFullscreen(){function e(){function e(e){n=e.clientY-this.offsetTop}function o(e){u=void 0,tl.to(c,4,{y:-n*a,ease:Power3.easeOut}),t()}function t(){u||(u=window.requestAnimationFrame(o))}function i(){u&&(window.cancelAnimationFrame(u),u=void 0)}var n=0,s=$(".s-fullscreen .c-image"),c=$(".s-fullscreen .c-image img"),r=s.outerHeight(),l=s[0].scrollHeight,a=l/r-1;$(c).css("visibility","visible"),$(s).on("mousemove",e);var u;Barba.Dispatcher.on("transitionCompleted",function(){t()}),$(cContainer).click(function(){i(),$(cContainer).find(".c-image").off("mousemove",e)}),t()}function o(){$("body").removeClass("overflow-hidden"),t.css("visibility","hidden").find(".c-image").remove(),$(".s-cursor").removeClass("is-close"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.1,scaleY:.1})}var t=($("body"),$(".s-fullscreen")),i=$(".js-fullscreen"),n=$(".s-fullscreen .c-background");cContainer=$(".s-fullscreen .c-container"),$(i).on("click",function(){var i=this,s=$(this).width(),c=$(this).height(),r=$(window).width(),l=$(window).height(),a=i.getBoundingClientRect();sFullscreenImageSrc=$(this).attr("data-fullscreen"),cContainer.prepend("<div class='c-image'><img src='"+sFullscreenImageSrc+"' /></div>"),tl.set($(cContainer),{y:a.top,x:a.left}),$(t).css({visibility:"visible"}),$(cContainer).css({width:""+s+"px",height:""+c+"px"}),$(cContainer).find(".c-image").imagesLoaded(function(){$("body").addClass("overflow-hidden"),tl.set(i,{opacity:0}),tl.to($(cContainer),1,{y:0,x:0,width:r,force3D:!1,height:l,ease:Power3.easeOut,onComplete:e,clearProps:"width, height, x, y"}),tl.to($(n),1,{opacity:1,ease:Power3.easeOut});$(".s-fullscreen img").height()}),$(cContainer).click(function(){function e(){tl.set(i,{opacity:1,delay:.74,clearProps:"opacity"}),tl.to(cContainer,.75,{force3D:!1,width:s,height:c,ease:Power3.easeOut,y:a.top,x:a.left,onComplete:o,clearProps:"width, height, x, y"}),tl.to($(n),1,{opacity:0,ease:Power3.easeOut})}tl.to($(cContainer).find("img"),.75,{y:0,onComplete:e}),a=i.getBoundingClientRect()})}),$(i).on("mouseenter",function(){$(".s-cursor").addClass("is-zoom"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:1,scaleY:1})}),$(i).on("mouseleave",function(){$(".s-cursor").removeClass("is-zoom"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.1,scaleY:.1})}),$(cContainer).on("mouseenter",function(){$(".s-cursor").addClass("is-close"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:1,scaleY:1})})}
function sGrid(){$(".s-grid").each(function(){function e(){$(n).each(function(){var e=$(this);if(e.is(":first-child"))var t=$(s).find(".c-column:last .c-visible img").attr("src");else var t=$(this).prev().find(".c-visible img").attr("src");$(this).find(".c-hidden").html("<img src='"+t+"'>")})}function t(){tl.set($(s).find(".c-visible"),{yPercent:0,xPercent:0}),tl.set($(n).eq(0).find(".c-hidden"),{yPercent:100}),tl.set($(n).eq(1).find(".c-hidden"),{xPercent:-100}),tl.set($(n).eq(2).find(".c-hidden"),{xPercent:100}),tl.set($(n).eq(0).find(".c-hidden img"),{yPercent:-80}),tl.set($(n).eq(1).find(".c-hidden img"),{xPercent:80}),tl.set($(n).eq(2).find(".c-hidden img"),{xPercent:-80})}function i(){$(s).find(".c-visible").addClass("c-hidden").removeClass("c-visible").siblings().removeClass("c-hidden").addClass("c-visible"),e(),t()}var s=$(this),n=$(s).find(".c-column");e(),t(),$(s).on("click",function(){tl.to($(".s-cursor .c-icon"),1,{rotation:360,ease:Power3.easeOut,clearProps:"all"}),tl.to($(n).eq(0).find(".c-visible"),1,{yPercent:-100,ease:Power3.easeOut}),tl.to($(n).eq(1).find(".c-visible"),1,{xPercent:100,ease:Power3.easeOut}),tl.to($(n).eq(2).find(".c-visible"),1,{xPercent:-100,ease:Power3.easeOut}),tl.to($(n).eq(0).find(".c-visible img"),1,{yPercent:80,ease:Power3.easeOut}),tl.to($(n).eq(1).find(".c-visible img"),1,{xPercent:-80,ease:Power3.easeOut}),tl.to($(n).eq(2).find(".c-visible img"),1,{xPercent:80,ease:Power3.easeOut}),tl.to($(n).eq(0).find(".c-hidden"),1,{yPercent:0,ease:Power3.easeOut}),tl.to($(n).eq(1).find(".c-hidden"),1,{xPercent:0,ease:Power3.easeOut}),tl.to($(n).eq(2).find(".c-hidden"),1,{xPercent:0,ease:Power3.easeOut}),tl.to($(n).eq(0).find(".c-hidden img"),1,{yPercent:0,ease:Power3.easeOut}),tl.to($(n).eq(1).find(".c-hidden img"),1,{xPercent:0,ease:Power3.easeOut}),tl.to($(n).eq(2).find(".c-hidden img"),1,{xPercent:0,ease:Power3.easeOut,onComplete:i})})}),$(".s-grid").on("mouseenter",function(){$(".s-cursor").addClass("is-rotate"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:1,scaleY:1})}),$(".s-grid").on("mouseleave",function(){$(".s-cursor").removeClass("is-rotate"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.1,scaleY:.1})})}
function sHero(){function e(){s||(s=window.requestAnimationFrame(r))}function o(){s&&(window.cancelAnimationFrame(s),s=void 0)}function r(o){if(s=void 0,$(".s-prev-category").length)var r=$(window).scrollTop()-500;if($(".s-prev").length)var r=$(window).scrollTop()-t;var n=r/t*100;r<t&&($("body").hasClass("d-touch")||tl.to(i,.75,{y:""+n+"px"})),e()}function n(){$("html").removeAttr("class");var e=setInterval(function(){var o=$(".p-current .s-hero .c-heading i:not(.js-lettering)").sort(sRandom).slice(0,1).addClass("js-lettering");tl.to(o,1.1,{y:0,ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1"),force3D:!1}),$(".p-current .s-hero .c-heading h2").children().length==$(".p-current .s-hero .c-heading h2").children(".p-current .js-lettering").length&&(clearInterval(e),$(".p-current .s-hero .c-heading i").removeAttr("class"))},25)}var s,t=$(window).height(),i=$(".js-parallax img");if($(".p-current .s-hero").on("inview",function(r,n){n?e():o()}),Barba.Dispatcher.on("transitionCompleted",function(){o()}),$(".p-current .s-hero").on("click",function(){if(!$("body").hasClass("d-mobile")){var e=$(".p-current .s-hero").next().offset().top;$("html,body").scrollTop(e)}}),$(".s-hero").on("mouseover",function(){$(".s-cursor").addClass("is-scroll"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:1,scaleY:1})}),$(".s-hero").on("mouseleave",function(){$(".s-cursor").removeClass("is-scroll"),$("body").hasClass("is-loading")||tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.1,scaleY:.1})}),$("html").hasClass("a-work-case")){var a=10+$(".p-current .s-hero .c-heading div").height();tl.set($(".p-current .s-hero .c-heading i"),{y:a,delay:.5,onComplete:n})}}function sHeroVideo(){var e=$("video")[0];$(".s-hero").on("inview",function(o,r){r?e.play():e.pause()})}
function sImage(){$(".s-image").each(function(){$(this).find(".c-container").hasClass("c-fluid")||(tl.set($(this).find("img"),{opacity:0,y:150}),$(this).one("inview",function(i,t){t&&tl.to($(this).find("img"),1,{opacity:1,y:0,ease:Power3.easeOut})}))})}
function sInstagram(){function s(){var s=this.x;tl.set(".c-row-large",{x:.9*s})}var r=$(window).width(),a=$(".c-dragger").width(),t=a-r;Draggable.create(".s-instagram .c-row-small",{type:"x",cursor:"none",throwProps:!0,onDrag:s,edgeResistance:.65,bounds:".s-instagram",onThrowUpdate:s}),$(".s-instagram").on("inview",function(s,r){r?tl.to($(".s-instagram .c-dragger"),60,{x:-t}):(tl.set($(".s-instagram .c-dragger"),{x:0}),tl.set($(".s-instagram .c-row-small"),{x:0}),tl.set($(".s-instagram .c-row-large"),{x:0}))}),$(".s-instagram").on("mouseenter",function(){$(".s-cursor").addClass("is-drag"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:1,scaleY:1})}),$(".s-instagram").on("mouseleave",function(){$(".s-cursor").removeClass("is-drag"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.1,scaleY:.1})})}
function sLoader(){function e(){u.to($(".s-loader .c-head"),1.5,{y:0,ease:Power3.easeOut}),u.to($(".s-loader .c-head"),1.5,{opacity:1}),u.to($(".s-loader .c-sub"),1.5,{y:0,delay:.2,ease:Power3.easeOut,onComplete:o}),u.to($(".s-loader .c-sub"),1.5,{opacity:1,delay:.3})}function o(){var e=($(window).height(),$(window).height()/2);u.to($(".s-loader .c-text"),.75,{yPercent:-100,ease:Power3.easeIn}),u.to($(".s-loader .c-text .c-align"),.75,{y:e,ease:Power3.easeIn}),u.to($(".s-loader .c-shape"),1.5,{yPercent:-100,ease:Power3.easeInOut}),u.to($(".s-loader .c-cover"),.75,{y:0,force3D:!1,delay:.75,ease:Power3.easeOut,onComplete:a})}function a(){u.to($(".s-loader .c-cover"),1,{clip:"rect(0px "+d+"px "+l+"px 130px)",delay:.5,ease:Power3.easeInOut}),u.to($(".s-loader .c-cover .c-container"),1,{scaleX:w,scaleY:p,delay:.5,ease:Power3.easeInOut}),u.to($(".s-loader .c-cover img"),1,{scaleX:y,scaleY:h,delay:.5,ease:Power3.easeInOut,onComplete:t})}function t(){tm.staggerTo(".s-header .c-logo span",.75,{opacity:1,y:0},.05),tm.staggerTo(".s-header .c-menu span",.75,{x:0},.05),$(".s-loader img").remove(),"/"==window.location.pathname&&sWork(),sLoaderReset(),sCursorReset()}function s(){var e=$(window).height(),o=$(window).width();u.set($(".s-loader .c-cover"),{clip:"rect(0px "+o+"px "+e+"px 0px)"})}var r=$(window).height(),c=$(window).width(),l=r-130,d=c-130,n=c-260,i=r-130,w=n/c,p=i/r,y=1/w,h=1/p,u=TweenLite;u.set($(".s-loader .c-head"),{opacity:0,y:40}),u.set($(".s-loader .c-sub"),{opacity:0,y:40,delay:1,onComplete:e}),u.set($(".s-loader .c-cover"),{clip:"rect(0px "+c+"px "+r+"px 0px)"}),"/"==window.location.pathname&&u.set($(".s-work .c-cases"),{clip:"rect(0px "+d+"px "+l+"px 130px)"});var x=$(".s-work .c-case:first").attr("data-color");if(u.set($(".s-loader .c-shape"),{opacity:1,yPercent:100,background:x}),"/"==window.location.pathname){u.set($(".s-loader .c-cover"),{opacity:1,y:r/6,force3D:!1,willChange:"transform"}),u.set($(".s-loader .c-cover img"),{force3D:!1,willChange:"transform"});var m=$(".p-work .c-case:first").find("img").attr("src");$(".s-loader .c-cover .c-container").prepend("<img src='"+m+"'/>")}$(window).on("resize",s),sCursorLoad()}function sLoaderReset(){var e=($(window).height(),$(window).width(),TweenLite);$(".s-loader").removeClass("is-black"),e.set($(".s-loader .c-text"),{yPercent:100}),e.set($(".s-loader .c-text .c-align"),{clearProps:"all"}),e.set($(".s-loader .c-text .c-head"),{clearProps:"all"}),e.set($(".s-loader .c-text .c-sub"),{clearProps:"all"})}function mLoader(){function e(){tl.to($(".s-loader .c-head"),1.5,{y:0,ease:Power3.easeOut}),tl.to($(".s-loader .c-head"),1.5,{opacity:1}),tl.to($(".s-loader .c-sub"),1.5,{y:0,delay:.2,ease:Power3.easeOut,onComplete:o}),tl.to($(".s-loader .c-sub"),1.5,{opacity:1,delay:.3})}function o(){var e=($(window).height(),$(window).height()/2);tl.to($(".s-loader .c-text"),.75,{yPercent:-100,ease:Power3.easeIn}),tl.to($(".s-loader .c-text .c-align"),.75,{y:e,ease:Power3.easeIn})}tl.set($(".s-loader .c-head"),{opacity:0,y:40}),tl.set($(".s-loader .c-sub"),{opacity:0,y:40,delay:1,onComplete:e}),tl.set($(".s-loader .c-cover"),{opacity:0})}$(window).on("load",function(){$("body").hasClass("d-mobile")||sLoader()}),$(window).on("load",function(){$("body").hasClass("d-mobile")});
$(".s-header .c-logo").on("click",function(){$(".p-current").length&&($("html").css("pointer-events","none"),$("body").hasClass("d-mobile")?($("html").addClass("a-loader"),setTimeout(function(){loadWork()},500)):loadCaseWork()),$(".p-about").length&&($("html").css("pointer-events","none").addClass("a-loader"),setTimeout(function(){loadWork()},500)),$(".p-overview").length&&($("html").css("pointer-events","none").addClass("a-loader"),setTimeout(function(){loadWork()},500)),$(".p-video").length&&($("html").css("pointer-events","none").addClass("a-loader"),setTimeout(function(){loadWork()},500))}),$(".s-header .c-logo").on("mouseenter",function(){tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.5,scaleY:.5})}),$(".s-header .c-logo").on("mouseleave",function(){tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.1,scaleY:.1})});
function sLogos(){var o=$(".s-logos li:first"),s=$(".s-logos li");tl.set(s,{opacity:0,y:30}),$(o).on("inview",function(o,e){e&&tm.staggerTo(s,1,{opacity:1,y:0,delay:.5,ease:Power4.easeOut,clearProps:"all"},.25)})}
function sSidenav(){$(window).scroll(function(){var i=$(window).scrollTop(),o=$(".js-scroller").height(),c=$(window).height(),l=i/(o-c)*100;tl.to($(".c-category .js-active .c-filled"),.75,{width:l+"%"})})}
function sSplit(){function e(e){var t=l.getBoundingClientRect(),o=$(".c-split-slider").offset(),a=e.pageY-o.top,n=(e.pageX-t.left)/l.offsetWidth*100;n<=100&&(tl.to(s,1,{width:n+"%",ease:Power3.easeOut,force3D:!1}),tl.to(r,1,{left:n+"%",ease:Power3.easeOut,force3D:!1}),tl.to(i,1,{left:n+"%",ease:Power3.easeOut,force3D:!1})),a<=c&&(tl.to(r,1,{top:a+"px",ease:Power3.easeOut,force3D:!1}),tl.to(i,1,{top:a+"px",ease:Power3.easeOut,force3D:!1}))}function t(){tl.to(s,1,{width:"50%",ease:Power3.easeOut,force3D:!1}),tl.to(r,1,{left:"50%",ease:Power3.easeOut,force3D:!1}),tl.to(i,1,{left:"50%",ease:Power3.easeOut,force3D:!1})}var o=$(".c-split-slider")[0],s=$(".c-split-after")[0],r=$(".c-split-cursor")[0],i=$(".c-split-divider")[0],l=$(".c-split-before")[0],c=$(".c-split-slider").height()-80;o.addEventListener("mousemove",e,!1),o.addEventListener("mouseleave",t,!1),o.addEventListener("touchstart",e,!1),o.addEventListener("touchmove",e,!1),$(".c-split-slider").on("mouseenter",function(){tl.to($(".s-cursor .c-pointer"),.25,{opacity:0})}),$(".c-split-slider").on("mouseleave",function(){tl.to($(".s-cursor .c-pointer"),.25,{opacity:1})})}
function sTiles(){$(".s-tiles").each(function(){tl.set($(this).find("img"),{opacity:0,y:150});var i=$(this).find(".c-image:first"),t=$(this);$(i).one("inview",function(i,e){e&&tm.staggerTo($(t).find("img"),1,{opacity:1,y:0,ease:Power3.easeOut},.1)})})}
function sVideo(){$(".s-video").each(function(){var e=$(this);$(e).find("video").css("opacity",0);var i=($(e).find(".c-thumbnail img"),$(e).find(".c-thumbnail video")[0]),s=$(e).find(".c-thumbnail").attr("data-start"),t=$(e).find(".c-thumbnail").attr("data-stop");$(e).find(".c-tile").on("mouseenter",function(){$(e).hasClass("is-playing")?$(".s-cursor").addClass("is-pause"):$(".s-cursor").addClass("is-play"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:1,scaleY:1}),tl.to($(i),.5,{opacity:1}),i.currentTime=s,i.play(),i.addEventListener("timeupdate",function(){i.currentTime>=t&&(i.currentTime=s,i.play())},!1);var a=$(".js-scroller").height();$("body").css("height",a)}),$(e).find(".c-tile").on("mouseleave",function(){$(".s-cursor").removeClass("is-play is-pause"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.1,scaleY:.1}),i.pause(),tl.to($(i),.5,{opacity:0})}),$(e).find(".c-tile").on("click",function(){function s(){TweenMax.set(n,{scaleX:(t.currentTime/t.duration).toFixed(5)})}if($(e).hasClass("is-playing")){$(e).removeClass("is-playing"),$(".s-cursor").removeClass("is-pause").addClass("is-play");var t=$(e).find(".c-player video")[0];tl.to($(i),.5,{opacity:1}),tl.to($(t),.5,{opacity:0}),t.pause()}else{$(e).addClass("is-playing"),$(".s-cursor").removeClass("is-play").addClass("is-pause");var t=$(e).find(".c-player video")[0],a=$(e).find(".c-player")[0],n=($(a).find(".c-timeline"),$(a).find(".c-progress"));tl.to($(i),.5,{opacity:0}),tl.to($(t),.5,{opacity:1}),t.play(),t.onplay=function(){TweenMax.ticker.addEventListener("tick",s)},t.onpause=function(){TweenMax.ticker.removeEventListener("tick",s)},t.onended=function(){TweenMax.ticker.removeEventListener("tick",s)}}})})}
function sRandom(){return Math.round(Math.random())-.5}function sWork(){function e(){$(".s-header .c-back").css("visibility","hidden")}function s(){$("html").hasClass("a-case-work")||($(".s-work .c-case:first").addClass("js-active js-first").next().addClass("js-next"),$(".s-work .c-case:last").addClass("js-last"),$(".s-work .c-category:first").addClass("js-active js-first").next().addClass("js-next"),$(".s-work .c-category:last").addClass("js-last")),$("html").hasClass("a-case-work")&&(catActive=$(".s-loader .c-loading").attr("data-category"),$(".s-work .c-case[data-category='"+catActive+"']").addClass("js-active"),$(".s-work .c-case.js-active").next().addClass("js-next"),$(".s-work .c-case.js-active").prev().addClass("js-prev"),$(".s-work .c-case:first").addClass("js-first"),$(".s-work .c-case:last").addClass("js-last"),$(".s-work .c-category[data-category='"+catActive+"']").addClass("js-active"),$(".s-work .c-category.js-active").next().addClass("js-next"),$(".s-work .c-category.js-active").prev().addClass("js-prev"),$(".s-work .c-category:first").addClass("js-first"),$(".s-work .c-category:last").addClass("js-last"))}function t(){var e=$(".s-work .c-case.js-active").attr("data-category").split("");for(i in e)e[i]="<div>"+e[i]+"</div>";var s=e.join("");$(".s-work .c-diap-current h2").html(s);var t=$(".s-work .c-diap-current h2 div:first").text();$(".s-work .c-normal-current h2").text(t)}function a(){if($(".s-work .c-case.js-next").length){var e=$(".s-work .c-case.js-next").attr("data-category").split("");for(i in e)e[i]="<div>"+e[i]+"</div>";var s=e.join("");$(".s-work .c-diap-next h2").html(s);var t=$(".s-work .c-diap-next h2 div:first").text();$(".s-work .c-normal-next h2").text(t)}}function c(){var e=$(window).width(),s=$(window).height(),t=e-260,a=s-130,c=t/e,r=a/s,o=1/c,l=1/r;tl.set($(".s-work .c-headings .c-heading-normal h2"),{yPercent:100}),tl.set($(".s-work .c-headings .c-heading-diap h2 div"),{yPercent:100}),tl.set($(".s-work .c-cases-container"),{scaleX:c,scaleY:r}),tl.set($(".s-work .c-case img"),{scaleX:o,scaleY:l}),tl.set($(".s-work .c-case").not(".js-active"),{yPercent:100}),tl.set($(".s-work .c-case").not(".js-active").find(".c-image"),{yPercent:-80}),tl.set($(".s-work .c-category .c-filler"),{xPercent:-100}),tl.set($(".s-work .c-category .c-filled"),{xPercent:-100}),tl.set($(".s-work .c-category.js-active").next().find(".c-filler"),{xPercent:-100}),tl.set($(".s-work .c-category.js-active .c-filled"),{xPercent:-100})}function r(){tl.to($(".s-work .c-diap-current h2 div:first").addClass("js-lettering"),1.1,{yPercent:0,ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1")}),tl.to($(".s-work .c-normal-current h2"),1.1,{yPercent:0,ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1")});var e=setInterval(function(){var s=$(".s-work .c-diap-current h2 div:not(.js-lettering)").sort(sRandom).slice(0,1).addClass("js-lettering");tl.to(s,1.1,{yPercent:0,ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1")}),$(".s-work .c-diap-current h2").children().length==$(".s-work .c-diap-current h2").children(".js-lettering").length&&(clearInterval(e),$(".s-work .c-diap-current h2 div").removeClass("js-lettering"))},50);tl.set($(".s-work .c-category .c-filler"),{opacity:1}),tl.to($(".s-work .c-category.js-active .c-filler"),1,{xPercent:0,ease:Power3.easeOut}),tl.to($(".s-work .c-category.js-active .c-filled"),3.25,{xPercent:0,ease:Power0.easeNone,delay:1,onComplete:l})}function o(){function e(){$(".s-loader .c-loading .c-cover img").remove(),r()}$("html").removeAttr("class");var s=$(window).height(),t=$(window).width(),a=s-130,c=t-130,o=t-260,l=s-130,n=o/t,i=l/s,d=1/n,w=1/i;tl.set($(".s-loader .c-cover"),{clip:"rect(0px "+t+"px "+s+"px 0px)"}),tl.to($(".s-loader .c-cover"),1,{clip:"rect(0px "+c+"px "+a+"px 130px)",ease:Power3.easeInOut}),tl.to($(".s-loader .c-container"),1,{scaleX:n,scaleY:i,ease:Power3.easeInOut}),tl.to($(".s-loader .c-container img"),1,{scaleX:d,scaleY:w,ease:Power3.easeInOut,onComplete:e}),tl.set($(".s-work .c-cases"),{clip:"rect(0px "+c+"px "+a+"px 130px)"})}function l(){function e(){tl.to($(".s-work .c-diap-current h2 div:first").addClass("js-lettering"),1.1,{yPercent:-100,ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1")}),tl.to($(".s-work .c-diap-next h2 div:first").addClass("js-lettering"),1.1,{yPercent:0,ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1")}),tl.to($(".s-work .c-normal-current h2"),1.1,{yPercent:-100,ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1")}),tl.to($(".s-work .c-normal-next h2"),1.1,{yPercent:0,ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1"),onComplete:s});var e=setInterval(function(){var s=$(".s-work .c-diap-current h2 div:not(.js-lettering)").sort(sRandom).slice(0,1).addClass("js-lettering");tl.to(s,1.1,{yPercent:-100,ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1")}),$(".s-work .c-diap-current h2").children().length==$(".s-work .c-diap-current h2").children(".js-lettering").length&&clearInterval(e)},25),t=setInterval(function(){var e=$(".s-work .c-diap-next h2 div:not(.js-lettering)").sort(sRandom).slice(0,1).addClass("js-lettering");tl.to(e,1.1,{yPercent:0,ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1")}),$(".s-work .c-diap-next h2").children().length==$(".s-work .c-diap-next h2").children(".js-lettering").length&&clearInterval(t)},25)}function s(){tl.set($(".s-work .c-diap-current h2 div"),{yPercent:120}),tl.set($(".s-work .c-normal-current h2"),{yPercent:120});var e=$(".s-work .c-diap-current"),s=$(".s-work .c-diap-next");$(e).addClass("c-diap-next").removeClass("c-diap-current"),$(s).addClass("c-diap-current").removeClass("c-diap-next");var t=$(".s-work .c-normal-current"),a=$(".s-work .c-normal-next");if($(t).addClass("c-normal-next").removeClass("c-normal-current"),$(a).addClass("c-normal-current").removeClass("c-normal-next"),$(".s-work .c-diap-current div").removeClass("js-lettering"),$(".s-work .c-diap-next div").removeClass("js-lettering"),$(".s-work .c-case.js-active").hasClass("js-last"))var c=$(".s-work .c-case.js-first").attr("data-category").split("");else var c=$(".s-work .c-case.js-next").attr("data-category").split("");for(i in c)c[i]="<div>"+c[i]+"</div>";var r=c.join("");$(".s-work .c-diap-next h2").html(r);var o=$(".s-work .c-diap-next h2 div:first").text();$(".s-work .c-normal-next h2").text(o),tl.set($(".s-work .c-diap-next h2 div"),{yPercent:120})}function t(){$(".s-work .c-case.js-active").hasClass("js-last")?($(".s-work .c-case.js-active").removeClass("js-active"),$(".s-work .c-case:first").addClass("js-active"),$(".s-work .c-category.js-active").removeClass("js-active"),$(".s-work .c-category:first").addClass("js-active")):($(".s-work .c-case.js-active").removeClass("js-active"),$(".s-work .c-case.js-next").addClass("js-active"),$(".s-work .c-category.js-active").removeClass("js-active"),$(".s-work .c-category.js-next").addClass("js-active")),$(".s-work .c-case").removeClass("js-next js-prev"),$(".s-work .c-category").removeClass("js-next js-prev"),$(".s-work .c-case.js-active").next().addClass("js-next"),$(".s-work .c-case.js-active").prev().addClass("js-prev"),$(".s-work .c-category.js-active").next().addClass("js-next"),$(".s-work .c-category.js-active").prev().addClass("js-prev"),tl.to($(".s-work .c-cases-normal"),1,{scaleY:1,scaleX:1,ease:Power3.easeInOut,clearProps:"all"}),tl.to($(".s-work .c-cases-mask"),1,{scaleY:1,scaleX:1,ease:Power3.easeInOut,clearProps:"all"}),tl.to($(".s-work .c-cases-diap").find("img"),1,{scaleX:1.15,scaleY:1.15,ease:Power3.easeInOut,onComplete:n})}if($(".s-work").length){if($(".p-work").css("pointer-events","none"),tl.to($(".s-work .c-cases-normal"),1,{scaleY:.75,scaleX:.75,ease:Power3.easeOut}),tl.to($(".s-work .c-cases-mask"),1,{scaleY:1.15,scaleX:1.15,ease:Power3.easeOut}),tl.to($(".s-work .c-cases-diap").find("img"),1,{scaleX:1,scaleY:1,ease:Power3.easeOut,clearProps:"all"}),$(".s-work .c-cases-diap").css("display","block"),tl.to($(".s-work .c-case.js-active"),1,{yPercent:-100,ease:Power3.easeInOut}),tl.to($(".s-work .c-case.js-active").find(".c-image"),1,{yPercent:80,ease:Power3.easeInOut,onComplete:t}),$(".s-work .c-case.js-active").hasClass("js-last")){$(".s-work .c-case:first").css("display","block");var a=$(".s-work .c-case:first").find("img").attr("src");$(".s-work .c-cases-diap").find("img").attr("src",a),tl.to($(".s-work .c-case:first"),1,{yPercent:0,ease:Power3.easeInOut}),tl.to($(".s-work .c-case:first").find(".c-image"),1,{yPercent:0,ease:Power3.easeInOut})}else{$(".s-work .c-case.js-next").css("display","block");var a=$(".s-work .c-case.js-next").find("img").attr("src");$(".s-work .c-cases-diap").find("img").attr("src",a),tl.to($(".s-work .c-case.js-next"),1,{yPercent:0,ease:Power3.easeInOut}),tl.to($(".s-work .c-case.js-next").find(".c-image"),1,{yPercent:0,ease:Power3.easeInOut})}tl.to($(".s-work .c-category.js-active .c-filler"),1,{xPercent:100,ease:Power3.easeOut}),tl.to($(".s-work .c-category.js-active .c-filled"),1,{xPercent:100,ease:Power3.easeOut}),tl.set($(".s-work .c-category.js-active .c-filler"),{xPercent:-100,delay:1}),tl.set($(".s-work .c-category.js-active .c-filled"),{xPercent:-100,delay:1}),$(".s-work .c-case.js-active").hasClass("js-last")?(tl.to($(".s-work .c-category.js-first .c-filler"),1,{xPercent:0,ease:Power3.easeOut}),tl.to($(".s-work .c-category.js-first .c-filled"),3.25,{xPercent:0,ease:Power0.easeNone,delay:1.75,onComplete:l})):(tl.to($(".s-work .c-category.js-next .c-filler"),1,{xPercent:0,ease:Power3.easeOut}),tl.to($(".s-work .c-category.js-next .c-filled"),3.25,{xPercent:0,ease:Power0.easeNone,delay:1.75,onComplete:l})),e()}}function n(){$(".p-work").css("pointer-events",""),$(".s-work .c-case").not(".js-active").css("display","none"),tl.set($(".s-work .c-case").not(".js-active"),{yPercent:100}),tl.set($(".s-work .c-case").not(".js-active").find(".c-image"),{yPercent:-80}),tl.set($(".s-work .c-cases-diap").find("img"),{scaleX:1.15,scaleY:1.15}),$(".s-work .c-cases-diap").css("display","none")}function d(){var e=$(window).height(),s=$(window).width(),t=e-130,a=s-130;tl.set($(".s-work .c-cases"),{clip:"rect(0px "+a+"px "+t+"px 130px)"})}tl.to($(".s-header .c-back"),1,{opacity:0,onComplete:e}),s(),t(),a(),c(),$("html").hasClass("a-case-work")||r(),$("html").hasClass("a-case-work")&&o(),$(".s-work .c-category").on("click",function(){tm.killTweensOf(".s-work .c-filled"),tm.killTweensOf(".s-work .c-normal-next h2"),$(".s-work .c-case").removeClass("js-next"),$(".s-work .c-category").removeClass("js-next");var e=$(this).attr("data-category");$(".s-work .c-case[data-category='"+e+"']").addClass("js-next"),$(".s-work .c-category[data-category='"+e+"']").addClass("js-next"),a(),tl.set($(".s-work .c-headings .c-normal-next h2"),{yPercent:100}),tl.set($(".s-work .c-headings .c-diap-next h2 div"),{yPercent:100}),l()}),$(".s-work .c-page").on("click",function(){tm.killTweensOf(".s-work .c-filled"),tm.killTweensOf(".s-work .c-normal-next h2"),$("html").addClass("a-loader")}),$(".s-work .c-cases").on("click",function(){function e(){Barba.Pjax.goTo(a)}$("html").css("pointer-events","none"),$(".s-work .c-cases").off("mouseleave"),$(".s-cursor").removeClass("is-view"),sCursorLoad(),$("html").addClass("a-work-case"),tm.killTweensOf(".s-work .c-filled"),tm.killTweensOf(".s-work .c-normal-next h2"),$(".s-work .c-cases-diap").remove(),$(".s-work .c-cases-normal .c-case:not(.js-active)").remove();var s=$(window).height(),t=$(window).width(),a=$(".s-work .c-case.js-active").find(".c-permalink a").attr("href");tl.to($(".s-work .c-cases-container"),1,{scaleX:1,scaleY:1,ease:Power3.easeInOut}),tl.to($(".s-work .c-case img"),1,{scaleX:1,scaleY:1,ease:Power3.easeInOut}),tl.to($(".s-work .c-case.js-active").find("img"),1,{scaleX:1,scaleY:1,ease:Power3.easeInOut}),tl.to($(".s-work .c-cases"),1,{clip:"rect(0px "+t+"px "+s+"px 0px)",ease:Power3.easeInOut,onComplete:e}),tl.to($(".s-work .c-diap-current h2 div:first").addClass("js-lettering"),1.1,{yPercent:-100,ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1")}),tl.to($(".s-work .c-normal-current h2"),1.1,{yPercent:-100,ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1")});var c=setInterval(function(){var e=$(".s-work .c-diap-current h2 div:not(.js-lettering)").sort(sRandom).slice(0,1).addClass("js-lettering");tl.to(e,1.1,{yPercent:-100,ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1")}),$(".s-work .c-diap-current h2").children().length==$(".s-work .c-diap-current h2").children(".js-lettering").length&&clearInterval(c)},25)}),$(".s-work .c-cases").on("mouseover",function(){$(".s-cursor").addClass("is-view"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:1,scaleY:1})}),$(".s-work .c-cases").on("mouseleave",function(){$(".s-cursor").removeClass("is-view"),$("body").hasClass("is-loading")||tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.1,scaleY:.1})}),$(".s-work .c-nav ul li a").on("mouseenter",function(){tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.5,scaleY:.5})}),$(".s-work .c-nav ul li a").on("mouseleave",function(){tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.1,scaleY:.1})}),$(window).on("resize",d),d()}
function pAbout(){function c(){$(".s-header .c-back").css("visibility","hidden")}tl.set($(".s-header .c-back"),{opacity:0,onComplete:c})}
function pOverview(){function e(){$(".s-header .c-back").css("visibility","hidden")}function t(){a||(a=window.requestAnimationFrame(i))}function s(){a&&(window.cancelAnimationFrame(a),a=void 0)}function i(e){a=void 0;var s=$(window).scrollTop();s<c&&$(".p-overview .js-active .c-heading i").each(function(){var e=$(this),t=$(e).data("speed")/5,i=s/c*100*t;tl.to(e,.75,{y:"-"+i+"px"})}),t()}tl.set($(".s-header .c-back"),{opacity:0,onComplete:e}),$(".p-overview .s-category:first").addClass("js-first js-active"),$(".p-overview .s-category:last").addClass("js-last"),tl.set($(".p-overview h2 i"),{y:-200}),tl.set($(".p-overview .c-filler"),{xPercent:-100}),tl.set($(".p-overview .c-filled"),{width:0}),$(".p-overview .s-sidenav .c-category:first a").addClass("js-active"),tl.to($(".p-overview .js-active .c-filler"),.75,{xPercent:0}),$(".p-overview .s-category").each(function(){$(this).find(".c-image").each(function(e){var t="c-small-left";e%4==1&&(t="c-large-right"),e%4==2&&(t="c-large-left"),e%4==3&&(t="c-small-right"),$(this).addClass(t)})}),$(".p-overview .c-case").each(function(){$(this).one("inview",function(e,t){if(t){var s=$(this),i=$(s).next(".c-case"),a=$(s).find("img"),c=$(i).find("img");$(a).each(function(){imgSrc=$(this).attr("data-src"),$(this).attr("src",imgSrc).removeAttr("data-src"),$(this).width()>$(this).height()?$(this).parent(".c-image").addClass("c-landscape c-loaded"):$(this).parent(".c-image").addClass("c-portrait c-loaded")}),$(c).each(function(){imgSrc=$(this).attr("data-src"),$(this).attr("src",imgSrc).removeAttr("data-src"),$(this).width()>$(this).height()?$(this).parent(".c-image").addClass("c-landscape c-loaded"):$(this).parent(".c-image").addClass("c-portrait c-loaded");var e=$(this).attr("class");$(this).prev(".c-title").addClass(e).removeClass("js-fullscreen c-image")}),jsScrollerHeight=$(".js-scroller").outerHeight(),$("body").css("height",jsScrollerHeight)}})}),$(".p-overview .c-image").each(function(){tl.set($(this).find("img"),{opacity:0,y:150}),$(this).on("inview",function(e,t){if(t&&$(this).hasClass("c-loaded")){tl.to($(this).find("img"),1,{opacity:1,y:0,ease:Power3.easeOut,delay:.5});var s=$(this).attr("class");$(this).prev(".c-title").addClass(s).removeClass("js-fullscreen c-image").css("visibility","visible"),jsScrollerHeight=$(".js-scroller").outerHeight(),$("body").css("height",jsScrollerHeight)}})}),$(".p-overview .c-title").each(function(){$(this).on("inview",function(e,t){t&&$(this).hasClass("c-loaded")&&tl.to($(this).find(".c-mask"),1,{width:"0%",ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1")})})}),$(".s-sidenav a").on("click",function(){function e(){tl.set($(".s-sidenav .c-filler"),{xPercent:-100}),tl.set($(".s-sidenav .c-filled"),{width:0,xPercent:0,onComplete:i})}function i(){tl.to($(c).find(".c-filler"),.75,{xPercent:0}),$(c).addClass("js-active")}function a(){$(".s-category").css("display","none").removeClass("js-active"),$(sSection).css("display","block").addClass("js-active"),jsScrollerHeight=$(".js-scroller").outerHeight(),$("body").css("height",jsScrollerHeight),$(window).scrollTop(0),setTimeout(function(){$("body").removeClass("is-loading"),t(),tl.to($(".p-overview .js-active .c-image").find(".c-mask"),1,{width:"0%",clearProps:"all",ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1")})},500)}var c=$(this);$("body").addClass("is-loading"),tl.set($(".p-overview .s-category").not(".js-active").find("img"),{y:150,opacity:0}),tl.set($(".p-overview .s-category").not(".js-active").find(".c-title .c-mask"),{width:"100%"}),tl.to($(".s-sidenav .js-active .c-filler"),.75,{delay:.75,xPercent:100,onComplete:e}),tl.to($(".s-sidenav .js-active .c-filled"),.75,{width:"100%"}),$(".c-category a").removeClass("js-active"),tl.to($(".p-overview .js-active .c-title .c-mask"),1,{width:"100%",ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1")}),tl.to($(".p-overview .js-active .c-image .c-mask"),1,{width:"101%",clearProps:"all",ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1"),onComplete:a}),s();var o=setInterval(function(){var e=$(".p-overview .js-active .c-heading i:not(.js-lettering)").sort(sRandom).slice(0,1).addClass("js-lettering");tl.to(e,1.1,{y:-200,ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1"),force3D:!1}),$(".p-overview .js-active .c-heading h2").children().length==$(".p-overview .js-active .c-heading h2").children(".p-overview .js-active .js-lettering").length&&(clearInterval(o),$(".p-overview .js-active .c-heading i").removeAttr("class"))},25),r=$(this).attr("data-category");sSection=$(".s-category[data-category='"+r+"']")}),$(".p-overview .c-button").on("mouseenter",function(){tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.5,scaleY:.5})}),$(".p-overview .c-button").on("mouseleave",function(){tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.1,scaleY:.1})}),$(".p-overview .s-category").each(function(){function e(){$(".c-category a").removeClass("js-active"),$(".s-category.js-active").hasClass("js-last")?($(".s-category").css("display","none").removeClass("js-active"),$(".s-category.js-first").css("display","block").addClass("js-active")):($(".s-category").css("display","none").removeClass("js-active"),$(t).next().css("display","block").addClass("js-active"));var e=$(".s-category.js-active").attr("data-category");sCatNav=$(".c-category a[data-category='"+e+"']"),$(sCatNav).addClass("js-active"),tl.to($(sCatNav).find(".c-filler"),.75,{xPercent:0}),jsScrollerHeight=$(".js-scroller").outerHeight(),$("body").css("height",jsScrollerHeight),$(window).scrollTop(0),setTimeout(function(){$("body").removeClass("is-loading")},500)}var t=$(this);$(t).find(".c-bottom").on("inview",function(s,i){function a(){tl.set($(".s-sidenav .c-filler"),{xPercent:-100}),tl.set($(".s-sidenav .c-filled"),{width:0})}i&&($("body").addClass("is-loading"),tl.to($(t).find("img"),1,{opacity:0,y:-150,clearProps:"all",onComplete:e}),tl.to($(".s-sidenav .js-active .c-filler"),.75,{xPercent:100,onComplete:a}))})}),$(".p-overview .c-heading i").each(function(){var e=Math.floor(10*Math.random()+1);$(this).attr("data-speed",e)});var a,c=$(window).height();t(),Barba.Dispatcher.on("transitionCompleted",function(){s()})}
function pVideo(){function e(){$(".s-header .c-back").css("visibility","hidden")}function t(){a();var e=setInterval(function(){var t=$(".p-video .js-active .c-heading i:not(.js-lettering)").sort(sRandom).slice(0,1).addClass("js-lettering");tl.to(t,1.1,{y:-200,ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1"),force3D:!1}),$(".p-video .js-active .c-heading h2").children().length==$(".p-video .js-active .c-heading h2").children(".p-video .js-active .js-lettering").length&&(clearInterval(e),$(".p-video .js-active .c-heading i").removeAttr("class"))},25)}function i(){$(".c-case video").each(function(){var e=$(this)[0];e.currentTime=0,$(e).get(0).pause()})}function s(){c||(c=window.requestAnimationFrame(o))}function a(){c&&(window.cancelAnimationFrame(c),c=void 0)}function o(e){c=void 0;var t=$(window).scrollTop();t<n&&$(".p-video .js-active .c-heading i").each(function(){var e=$(this),i=$(e).data("speed")/5,s=t/n*100*i;tl.to(e,.75,{y:"-"+s+"px"})}),s()}tl.set($(".s-header .c-back"),{opacity:0,onComplete:e}),$(".p-video .s-category:first").addClass("js-first js-active"),$(".p-video .s-category:first").addClass("js-last js-active"),tl.set($(".p-video h2 i"),{y:-200}),tl.set($(".p-video .c-filler"),{xPercent:-100}),tl.set($(".p-video .c-filled"),{width:0}),$(".p-video .s-sidenav .c-category:first a").addClass("js-active"),tl.to($(".p-video .js-active .c-filler"),.75,{xPercent:0}),$(".p-video .c-case").each(function(){$(this).find("video").css("opacity",0);var e=($(this).find(".c-thumbnail img"),$(this).find(".c-thumbnail video")[0]),i=$(this).find(".c-thumbnail").attr("data-start"),a=$(this).find(".c-thumbnail").attr("data-stop");$(this).find(".c-tile").on("mouseenter",function(){$(this).parents(".c-case").hasClass("is-playing")?$(".s-cursor").addClass("is-pause"):$(".s-cursor").addClass("is-play"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:1,scaleY:1}),tl.to($(e),.5,{opacity:1}),e.currentTime=i,e.play(),e.addEventListener("timeupdate",function(){e.currentTime>=a&&(e.currentTime=i,e.play())},!1);var t=$(".js-scroller").height();$("body").css("height",t)}),$(this).find(".c-tile").on("mouseleave",function(){$(".s-cursor").removeClass("is-play is-pause"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.1,scaleY:.1}),e.pause(),$(this).removeClass("is-playing"),tl.to($(e),.5,{opacity:0})}),$(this).on("click",function(){function e(){TweenMax.set(c,{scaleX:(a.currentTime/a.duration).toFixed(5)})}$(".p-video .c-case").not(this).each(function(){$(this).removeClass("is-playing");var e=$(this).find(".c-thumbnail img"),t=$(this).find(".c-player video")[0];t.pause(),tl.to($(e),.5,{opacity:1}),tl.to($(t),.5,{opacity:0})});var i=$(this).find(".c-thumbvid video")[0],a=$(this).find(".c-player video")[0];if($(this).hasClass("is-playing")){s(),$(this).removeClass("is-playing"),$(".s-cursor").removeClass("is-pause").addClass("is-play");var a=$(this).find(".c-player video")[0];tl.to($(i),.5,{opacity:1}),tl.to($(a),.5,{opacity:0}),a.pause()}else{t(),$(this).addClass("is-playing"),$(".s-cursor").removeClass("is-play").addClass("is-pause");var a=$(this).find(".c-player video")[0],o=$(this).find(".c-player")[0],c=($(o).find(".c-timeline"),$(o).find(".c-progress"));tl.to($(i),.5,{opacity:0}),tl.to($(a),.5,{opacity:1}),a.play(),a.onplay=function(){TweenMax.ticker.addEventListener("tick",e)},a.onpause=function(){TweenMax.ticker.removeEventListener("tick",e)},a.onended=function(){TweenMax.ticker.removeEventListener("tick",e)}}})}),$(".p-video .s-sidenav a").on("click",function(){function e(){tl.set($(".s-sidenav .c-filler"),{xPercent:-100}),tl.set($(".s-sidenav .c-filled"),{width:0,xPercent:0,onComplete:a})}function a(){tl.to($(c).find(".c-filler"),.75,{xPercent:0}),$(c).addClass("js-active")}function o(){$(".s-category").css("display","none").removeClass("js-active"),$(sSection).css("display","block").addClass("js-active"),jsScrollerHeight=$(".js-scroller").outerHeight(),$("body").css("height",jsScrollerHeight),$(window).scrollTop(0),setTimeout(function(){$("body").removeClass("is-loading"),s(),tl.to($(".p-video .js-active").find(".c-mask"),1,{width:"0%",clearProps:"all",ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1")})},500)}i();var c=$(this);$("body").addClass("is-loading"),tl.to($(".s-sidenav .js-active .c-filler"),.75,{delay:.75,xPercent:100,onComplete:e}),tl.to($(".s-sidenav .js-active .c-filled"),.75,{width:"100%"}),$(".c-category a").removeClass("js-active"),tl.set($(".p-video .s-category").not(".js-active").find(".c-mask"),{width:"100%"}),tl.to($(".p-video .js-active .c-title .c-mask"),1,{width:"100%",ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1")}),tl.to($(".p-video .js-active .c-thumbnail .c-mask"),1,{width:"100%",clearProps:"all",ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1"),onComplete:o}),t();var n=$(this).attr("data-category");sSection=$(".s-category[data-category='"+n+"']")}),$(".p-video .c-button").on("mouseenter",function(){tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.5,scaleY:.5})}),$(".p-video .c-button").on("mouseleave",function(){tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.1,scaleY:.1})}),$(".p-video .c-heading i").each(function(){var e=Math.floor(10*Math.random()+1);$(this).attr("data-speed",e)});var c,n=$(window).height();s(),Barba.Dispatcher.on("transitionCompleted",function(){a()})}
function aMobile(){function e(){$(".s-notification, .s-cursor, .s-fullscreen").remove()}e()}function mLoader(){function e(){tl.to($(".s-loader .c-head"),1.5,{y:0,ease:Power3.easeOut}),tl.to($(".s-loader .c-head"),1.5,{opacity:1}),tl.to($(".s-loader .c-sub"),1.5,{y:0,delay:.2,ease:Power3.easeOut,onComplete:t}),tl.to($(".s-loader .c-sub"),1.5,{opacity:1,delay:.3})}function t(){var e=($(window).height(),$(window).height()/2);tl.to($(".s-loader .c-text"),.75,{yPercent:-100,ease:Power3.easeIn}),tl.to($(".s-loader .c-text .c-container"),.75,{y:e,ease:Power3.easeIn,onComplete:sLoaderReset}),tm.staggerTo(".s-header .c-logo span",.75,{opacity:1,y:0},.05),tm.staggerTo(".s-header .c-menu span",.75,{x:0},.05)}$(".s-loader .c-cover").remove(),$(".s-loader .c-shape").remove();var a=$(window).height(),o=$(window).width();tl.set($(".s-loader .c-head"),{opacity:0,y:40}),tl.set($(".s-loader .c-sub"),{opacity:0,y:40,delay:1,onComplete:e}),tl.set($(".s-loader .c-cover"),{clip:"rect(0px "+o+"px "+a+"px 0px)"})}function mWork(){function e(e){if("before.lory.init"===e.type){for(var t=0,r=a;t<r;t++){var i=s.cloneNode();o.appendChild(i)}o.childNodes[0].classList.add("c-active")}if("after.lory.init"===e.type)for(var t=0,r=a;t<r;t++)o.childNodes[t].addEventListener("click",function(e){n.slideTo(Array.prototype.indexOf.call(o.childNodes,e.target))});if("after.lory.slide"===e.type){for(var t=0,r=o.childNodes.length;t<r;t++)o.childNodes[t].classList.remove("c-active");o.childNodes[e.detail.currentSlide-1].classList.add("c-active")}if("on.lory.resize"===e.type){for(var t=0,r=o.childNodes.length;t<r;t++)o.childNodes[t].classList.remove("c-active");o.childNodes[0].classList.add("c-active")}}$(".s-work .c-nav").remove(),$(".s-work .c-headings").remove(),$(".s-work .c-cases-diap").remove(),$(".s-work .c-heading-diap").remove(),$(".s-work .c-cases-normal").append("<div class='c-cases-gradient'></div>"),$(".s-work .c-cases-container").append("<div class='c-cases-pagination'><ul></ul></div>");var t=document.querySelector(".c-cases-container"),a=t.querySelectorAll(".c-case").length,o=t.querySelector(".c-cases-pagination ul"),s=document.createElement("li");t.addEventListener("before.lory.init",e),t.addEventListener("after.lory.init",e),t.addEventListener("after.lory.slide",e),t.addEventListener("on.lory.resize",e);var n=lory(t,{infinite:1,enableMouseEvents:!0,classNameFrame:"c-cases-normal",classNameSlideContainer:"c-cases-mask"});$(".s-work .c-permalink a").on("click",function(){function e(){var e=setInterval(function(){var a=$(".s-work .c-active i:not(.js-lettering)").sort(sRandom).slice(0,1).addClass("js-lettering");tl.to(a,1,{y:-o,ease:CustomEase.create("custom","M0,0,C0.398,0,0,1,1,1"),force3D:!1}),$(".s-work .c-active h2").children().length==$(".s-work .c-active h2").children(".s-work .c-active .js-lettering").length&&(clearInterval(e),$(".s-work .c-active i").removeAttr("class"),setTimeout(function(){t()},1e3))},25)}function t(){$(".s-work .c-case").not(".c-active").remove(),$(".c-cases-gradient, .c-cases-pagination, .c-permalink, .c-heading").remove(),tl.set($(".s-work .c-cases-mask"),{clearProps:"all"}),Barba.Pjax.goTo(a)}$("html").css("pointer-events","none"),$("html").addClass("a-work-case-mobile");var a=$(this).attr("href");tm.staggerTo(".s-work .c-cases-pagination li",.75,{opacity:0},.1),tl.to($(".s-work .c-cases-gradient"),1,{opacity:0}),tl.to($(".s-work .c-title"),1,{opacity:0});var o=10+$(".s-work .c-heading h2").height();return e(),!1})}function mCase(){tl.set($(".p-prev img"),{opacity:.5}),tl.set($(".p-next img"),{opacity:.5}),$(".p-current div").removeClass("c-padding-top c-padding-bottom c-padding-none"),$(".s-next").on("click",function(){function e(){var e=$(".p-next .s-hero").html();$(".s-placeholder").css("display","block"),$(".s-placeholder .s-hero").append(e),$(".s-placeholder").css("display","block"),t()}function t(){setTimeout(function(){Barba.Pjax.goTo(a)},100)}$("body").addClass("is-loading"),$("html").css("pointer-events","none");var a=$(".p-next a").attr("href"),o=$(window).outerHeight();cOffset=o-$(".s-next").outerHeight(),tl.to($(".p-current"),1,{y:-cOffset,ease:Power3.easeInOut,onComplete:e}),tl.to($(".p-next"),1,{y:-cOffset,ease:Power3.easeInOut}),tl.to($(".p-next img"),1,{opacity:1})}),$(".s-next-category").on("click",function(){function e(){tl.to($(".p-next-category .s-panel"),.75,{y:-o,ease:Quint.easeOut}),tl.to($(".p-next-category .s-panel a"),.75,{y:o,ease:Quint.easeOut,onComplete:t})}function t(){Barba.Pjax.goTo(a)}$("body").addClass("is-loading"),$("html").css("pointer-events","none");var a=$(".p-next-category a").attr("href");$(".p-next-category").css("z-index","15");var o=$(window).height(),s=$(".p-next-category .s-panel a").height()/2;tl.to($(".p-next-category"),.75,{y:0,ease:Quint.easeOut}),tl.to($(".p-next-category .s-panel a"),.75,{y:o/2-s,ease:Quint.easeOut,onComplete:e})}),$(".s-prev").on("click",function(){function e(){var e=$(".p-prev .s-hero").html();$(".s-placeholder").css("display","block"),$(".s-placeholder .s-hero").append(e),$(".s-placeholder").css("display","block"),t()}function t(){setTimeout(function(){Barba.Pjax.goTo(a)},100)}$("body").addClass("is-loading"),$("html").css("pointer-events","none");var a=$(".p-prev a").attr("href"),o=$(window).outerHeight();cOffset=o-$(".s-prev").outerHeight(),tl.to($(".p-current"),1,{y:cOffset,ease:Power3.easeInOut,onComplete:e}),tl.to($(".p-prev img"),1,{opacity:1})}),$(".s-prev-category").on("click",function(){function e(){tl.to($(".p-prev-category .s-panel"),.75,{y:o,ease:Quint.easeOut}),tl.to($(".p-prev-category .s-panel a"),.75,{y:-o/2,ease:Quint.easeOut,onComplete:t})}function t(){Barba.Pjax.goTo(a)}$("body").addClass("is-loading"),$("html").css("pointer-events","none").addClass("a-case-prev-mobile");var a=$(".p-prev-category a").attr("href");$(".p-prev-category").css("z-index","15");var o=$(window).outerHeight(),s=$(".p-prev-category .s-panel a").height()/2;tl.to($(".p-prev-category"),.75,{y:0,ease:Quint.easeOut}),tl.to($(".p-prev-category .s-panel a"),.75,{y:o/2-s,ease:Quint.easeOut,onComplete:e})})}$("body").hasClass("d-mobile")&&aMobile(),$(window).on("load",function(){$("body").hasClass("d-mobile")&&mLoader()});var WorkCaseMobile=Barba.BaseTransition.extend({start:function(){function e(){Promise.all([t.newContainerLoading]).then(t.animIn.bind(t)),$("body").addClass("is-loading"),setTimeout(function(){t.done()},2e3)}var t=this;$(this.oldContainer).addClass("s-page-old"),e()},animIn:function(){function e(){$(".s-page").removeClass("s-page-new"),$("html").removeAttr("class style")}var t=$(this.newContainer);$(t).addClass("s-page-new"),tl.to($(".p-work"),1,{height:500,ease:Power3.easeInOut,onComplete:e})}});
function sNavShow(){$("body").addClass("s-nav-visible"),$("body").hasClass("d-mobile")||tl.to($(".s-page"),.75,{opacity:.6,scaleX:.95,scaleY:.95,ease:Power4.easeInOut}),tl.to(cMenuFirst,.75,{rotation:45,y:-5,ease:Power4.easeInOut}),tl.to(cMenuLast,.75,{rotation:135,y:5,ease:Power4.easeInOut}),tl.to(sNav,.75,{yPercent:0,ease:Power4.easeInOut}),tl.to(sNavCopy,.75,{opacity:1,y:0,delay:.5,ease:Power4.easeInOut}),tm.staggerTo(sNavCat,.75,{opacity:1,y:0,delay:.5,ease:Power4.easeOut,clearProps:"all"},.1),tm.staggerTo(sNavMain,.75,{opacity:1,y:0,delay:.5,ease:Power4.easeOut,clearProps:"all"},.1),tm.staggerTo(sNavContact,.75,{opacity:1,y:0,delay:.5,ease:Power4.easeOut,clearProps:"all"},.1),tm.staggerTo(sNavOverview,.75,{opacity:1,y:0,delay:.5,ease:Power4.easeOut,clearProps:"all"},.1)}function sNavHide(){$("body").removeClass("s-nav-visible"),$("body").hasClass("d-mobile")||tl.to($(".s-page"),.75,{opacity:1,scaleX:1,scaleY:1,ease:Power4.easeInOut,clearProps:"all"}),tl.to(cMenuFirst,.75,{rotation:0,y:0,ease:Power4.easeInOut}),tl.to(cMenuLast,.75,{rotation:0,y:0,ease:Power4.easeInOut}),tl.to(sNav,.5,{yPercent:-100,ease:Power4.easeInOut,onComplete:resetNav})}function resetNav(){tl.set(sNavCat,{opacity:0,y:-10}),tl.set(sNavCopy,{opacity:0,y:-10}),tl.set(sNavMain,{opacity:0,y:-10}),tl.set(sNavContact,{opacity:0,y:-10}),tl.set(sNavOverview,{opacity:0,y:-10}),$(sNav).css("display","none")}function sNavActive(){var e=window.location.href.split(window.location.hostname)[1].split("/")[1];$("a[data-url]").removeClass("c-active"),$("a[data-url='"+e+"']").addClass("c-active"),"/"==window.location.pathname&&$("a[data-url='home']").addClass("c-active")}function loadCaseWork(){$("html").addClass("a-case-work"),setCat=$(".p-current").attr("data-category"),$(".s-loader .c-loading").attr("data-category",setCat);var e=$(".p-current .s-prev").height(),t=$(".p-current .s-prev-category").height(),a=$(".p-current .s-hero").height(),s=$(window).height();$(window).width();if($(".s-prev-category").length)var o=a+t;if($(".s-prev").length)var o=a+e;var n=document.location.origin,i=$(".p-current").attr("data-category"),c=""+n+"/wp-admin/admin-ajax.php";$.ajax({url:c,type:"post",data:{catCover:i,action:"ajax_load_cover"},error:function(e){console.log(e)},success:function(e){function t(){function e(){$(".s-page > div").remove();var e=$(".s-page").offset().top;$("html,body").scrollTop(e),loadWork()}tl.to($(".c-loading .c-cover"),1,{y:0,ease:Quint.easeOut,force3D:!1}),tl.to($(".c-loading .c-cover img"),1,{y:0,ease:Quint.easeOut,force3D:!1,onComplete:e})}if(tl.set($(".s-loader .c-container"),{scaleX:1,scaleY:1}),$(document).scrollTop()>o)$(".s-loader .c-cover .c-container").append(e),tl.set($(".c-loading .c-cover"),{clearProps:"all"}),tl.set($(".c-loading .c-cover"),{y:-s}),tl.set($(".c-loading .c-cover img"),{y:s/2,onComplete:t});else{var a=$(".p-current .s-hero").offset().top;$("html,body").scrollTop(a),$(e).insertAfter(".p-current .js-parallax .c-image img").addClass("js-img");var n=10+$(".p-current .c-heading h2").height(),i=setInterval(function(){var e=$(".p-current .c-heading i:not(.js-lettering)").sort(sRandom).slice(0,1).addClass("js-lettering");tl.to(e,1,{y:-n,ease:Quint.easeOut,force3D:!1}),$(".p-current .c-heading h2").children().length==$(".p-current .c-heading h2").children(".js-lettering").length&&clearInterval(i)},25);setTimeout(function(){function t(){$(".s-loader .c-cover .c-container").append(e),$(".p-next, .p-next-category, .p-prev, .p-prev-category, .p-current").remove(),$(".p-current > div").not(".s-hero, .s-prev").remove(),$("body").addClass("is-loading"),tl.set($(".c-loading .c-cover"),{clearProps:"all",onComplete:loadWork})}tl.to($(".p-current .js-parallax .c-image .js-img"),.5,{opacity:1,onComplete:t})},1500)}}})}function loadWork(){var e=document.location.origin;Barba.Pjax.goTo(e)}function sPrevCase(){function e(){s||(s=window.requestAnimationFrame(a))}function t(){s&&(window.cancelAnimationFrame(s),s=void 0)}function a(t){s=void 0;var a=$(document).scrollTop(),n=o-a;if(n>0){var i=Math.min(1/o*n,1),c=1.5-Math.min(1/o*n/2,1);tl.to($(".p-prev .c-image"),.5,{scaleX:c,scaleY:c}),tl.to($(".p-prev .c-image img"),.5,{opacity:i})}e()}$(".p-prev").css("visibility","visible"),$(".s-prev").css("display","block");var s;$(".s-prev").next().on("inview",function(t,a){a&&($(".p-prev").css("visibility","visible"),e())}),$(".s-next").prev().on("inview",function(e,t){t&&$(".p-prev").css("visibility","hidden")}),Barba.Dispatcher.on("transitionCompleted",function(){t()});var o=($(".s-prev"),$(window).height());$(".s-prev").on("mouseenter",function(){$(".s-cursor").addClass("is-scroll"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:1,scaleY:1})}),$(".s-prev").on("mouseleave",function(){$(".s-cursor").removeClass("is-scroll"),$("body").hasClass("is-loading")||tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.1,scaleY:.1})})}function sNextCase(){function e(){s||(s=window.requestAnimationFrame(a))}function t(){s&&(window.cancelAnimationFrame(s),s=void 0)}function a(t){s=void 0;var a=$(document).scrollTop(),i=n-(o.offset().top-a);if(i>0){var c=Math.min(1/n*i,1),r=1.5-Math.min(1/n*i/2,1);tl.to($(".p-next .c-image"),.5,{scaleX:r,scaleY:r}),tl.to($(".p-next .c-image img"),.5,{opacity:c})}e()}$(".p-next").css("visibility","hidden"),tl.set($(".p-next .c-image"),{scaleX:1.5,scaleY:1.5}),tl.set($(".p-next .c-image img"),{opacity:0});var s;$(".s-next").prev().on("inview",function(t,a){a&&($(".p-next").css("visibility","visible"),e())}),$(".s-prev").next().on("inview",function(e,t){t&&$(".p-next").css("visibility","hidden")}),Barba.Dispatcher.on("transitionCompleted",function(){t()}),$(".s-header .c-back").on("click",function(){t()});var o=$(".s-next"),n=$(window).height();$(".s-next").on("mouseenter",function(){$(".s-cursor").addClass("is-scroll"),tl.to($(".s-cursor .c-pointer"),.25,{scaleX:1,scaleY:1})}),$(".s-next").on("mouseleave",function(){$(".s-cursor").removeClass("is-scroll"),$("body").hasClass("is-loading")||tl.to($(".s-cursor .c-pointer"),.25,{scaleX:.1,scaleY:.1})})}function sPrevCategory(){if($(".p-prev-category").css("display","block"),$(".p-prev-category").css("visibility","visible"),$(".s-prev-category").css("display","block"),$(".s-prev-category").next().on("inview",function(e,t){t?$(".p-prev-category").css("visibility","visible"):$(".p-prev-category").css("visibility","hidden")}),$(".p-prev-category").length){var e=$(window).height(),t=e-500,a=$(".p-prev-category"),s=$(".p-prev-category .s-panel a"),o=$(".p-prev-category .s-panel a").height()/2,n=e/2-o+t/2;tl.set(a,{y:-t}),tl.set(s,{y:n})}else $(".s-prev-category").remove()}function sNextCategory(){if($(".p-next-category").css("visibility","hidden"),$(".s-next-category").prev().on("inview",function(e,t){t?$(".p-next-category").css("visibility","visible"):$(".p-next-category").css("visibility","hidden")}),$(".p-next-category").length){var e=$(window).height(),t=e-500,a=$(".p-next-category"),s=$(".p-next-category .s-panel a"),o=$(".p-next-category .s-panel a").height()/2,n=e/2-o-t/2;tl.set(a,{y:t}),tl.set(s,{y:n})}else $(".s-next-category").remove()}var cMenu=$(".c-menu"),cMenuFirst=$(".c-menu span:first"),cMenuLast=$(".c-menu span:last"),sNav=$(".s-nav"),sNavCopy=$(".s-nav .c-copy"),sNavMain=$(".s-nav .c-main li"),sNavContact=$(".s-nav .c-contact ul"),sNavOverview=$(".s-nav .c-overview li"),sNavCat=$(".s-nav .c-categories li"),tl=TweenLite,tm=TweenMax;tl.set(sNav,{yPercent:-100,zIndex:""}),tl.set(sNavCat,{opacity:0,y:-10}),tl.set(sNavCopy,{opacity:0,y:-10,zIndex:""}),tl.set(sNavMain,{opacity:0,y:-10}),tl.set(sNavContact,{opacity:0,y:-10}),tl.set(sNavOverview,{opacity:0,y:-10}),$(".c-menu").on("click",function(){$("body").hasClass("s-nav-visible")?sNavHide():(tm.killTweensOf(".c-filled"),$(sNav).css("display","block"),sNavShow())}),sNavActive(),$(".s-nav a").on("click",function(){$(this).hasClass("no-barba")||sCursorLoad()}),$(".s-nav .c-categories a").on("click",function(){$("html").addClass("a-work-case")}),$(".s-nav a[data-url='home']").on("click",function(){$("html").addClass("a-nav-work")}),window.onpopstate=function(e){$("html").addClass("a-loader")},$(".s-header .c-back").on("click",function(){function e(){$(".s-header .c-back").css("visibility","hidden")}$("html").css("pointer-events","none"),loadCaseWork(),tl.to($(".s-header .c-back"),1,{opacity:0,onComplete:e})});